
function eval-expr(Expr e) : number
  if is-num(e)
    return eval-num(get-num(e))
  else if is-neg(e)
    return - eval-expr(get-oper(e))
  else if is-plus(e)
    return eval-expr(get-left(e)) + 
           eval-expr(get-right(e))
  else if is-minus(e)
    return eval-expr(get-left(e)) - 
           eval-expr(get-right(e))

function eval-num(Num num) : number
  if is-nat(num)
    return atoi(get-chars(num))
  else if is-real(num)
    return atof(get-chars(num))
