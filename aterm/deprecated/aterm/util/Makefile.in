PRODUCT     = @PRODUCT@
VERSION     = @VERSION@
CLEAN       = @CLEAN@
@SET_MAKE@

srcdir      = @srcdir@
top_srcdir  = @top_srcdir@
prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = $(exec_prefix)/bin
libdir      = $(exec_prefix)/lib
includedir  = $(prefix)/include
classdir    = ${prefix}/classes

INSTALL     = @INSTALL@
INSTALL_DAT = @INSTALL_DAT@
INSTALL_PRG = @INSTALL_PRG@

DISTFILES	= Makefile.in ${SOURCE}

SOURCE		= CharArrayWriter.java SimpleHashtableEntry.java \
			PrintWriter.java Writer.java SimpleHashtable.java

CLASSES = $(patsubst %.java,%.class,$(SOURCE))

all: ${CLASSES}

%.class: %.java
	javac -classpath ../..:$$CLASSPATH $<

install: ${CLASSES}
	@mkdir -p ${classdir}/aterm/util
	@for file in ${CLASSES}; do \
		${INSTALL_DAT} $$file ${classdir}/aterm/util; \
	done

dist:
	@cp ${DISTFILES} ${DISTDIR}

clean:
	@rm -f ${CLASSES} *~ core


