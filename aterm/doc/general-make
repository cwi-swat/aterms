.SUFFIXES: .grap .pic .ltx .dvi .bbl .ind .idx .xwd .ps .tex .fig

%.ps: %.dvi
	dvips -o $@ $<

.ltx.dvi:
	latex $<
	-@fgrep -s 'LaTeX Warning: Citation' $*.log && bibtex $* && latex $<
	@while fgrep -s 'Rerun to get cross-references right' $*.log ;\
	do \
		latex $< ;\
	done

.ltx.bbl:
	bibtex $*

.pic.tex:
	gpic -t $*.pic > $*.tex

.grap.pic:
	grap $*.grap > $*.pic
	remove-lfs $*.pic

.idx.ind:
	makeindex $*

.xwd.ps:
	xbm2ps -s 0.55x0.55 $*.xwd > $*.ps

.fig.ps:
	fig2dev -Lps $< $@
